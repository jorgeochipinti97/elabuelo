import Link from "next/link";
import React from "react";
import { formattwo } from "../utils/currency";

export const ProductList = ({ productos }) => {
  return (
    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {productos &&
        productos.map((e) => (
          <Link href={`/productos/${e.slug}`} key={e.slug}>
            <div
              className="rounded-lg overflow-hidden shadow-lg flex items-end relative"
              style={{
                backgroundImage: `url(${e.images[0]})`,
                height: "300px",
                width: "300px",
                backgroundSize: "cover",
                backgroundPosition: "center",
              }}
            >
              <div className="absolute top-1 right-1">
                {e.subcategoria == "resorte" ? (
                  <>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="45"
                      height="45"
                      className="bg-white rounded-full p-1"
                      viewBox="0 0 512 512"
                    >
                      <path
                        fill="#7f1d1d"
                        d="M256 23.07c-58.1 0-110.7 6.28-149.4 16.71c-19.39 5.22-35.31 11.4-47.09 18.9c-5.67 3.61-10.62 7.73-14.25 12.39C38.9 97.64 39.09 142.1 39 152c0 12.2 8.74 21.9 20.51 29.4c7.93 5 17.73 9.5 29.2 13.5c-2.7 6.9-3.89 14.5-3.89 22.1c0 11.4 2.67 23 9.22 32c-6.55 9-9.22 20.6-9.22 32c0 11.4 2.67 23 9.22 32c-6.55 9-9.22 20.6-9.22 32c0 11.4 2.67 23 9.22 32c-6.55 9-9.22 20.6-9.22 32c0 14.6 4.31 29.7 15.68 39c45.6 37.4 127.2 47.9 198.6 36.6c35.8-5.7 69.1-17 94.1-34.6c8.7-6.2 16.4-13.2 22.7-21c.8 3.8 1.3 7.8 1.3 12h18c0-11.5-2.4-22.2-6.8-32c4.4-9.8 6.8-20.5 6.8-32s-2.4-22.2-6.8-32c4.4-9.8 6.8-20.5 6.8-32s-2.4-22.2-6.8-32c4.4-9.8 6.8-20.5 6.8-32s-2.4-22.2-6.8-32c3.7-8.3 6-17.1 6.6-26.6c6.6-2.8 12.4-5.8 17.5-9c11.8-7.5 20.5-17.2 20.5-29.4c-.2-11.2-2.2-64.7-6.2-80.93c-3.7-4.66-8.6-8.78-14.3-12.39c-11.8-7.5-27.7-13.68-47.1-18.9c-38.7-10.43-91.3-16.71-149.4-16.71zm-9 18.23c29.3.16 59.8 1.15 71.2 2.72c-23.9 21.22-54.7 65.38-55.3 90.28c-49.3 1.1-88.2-2.6-115.6-7.2c7.8-10.5 19.7-22.9 33.9-35.48c19.2-16.97 42.5-34.6 65.8-50.32zm-31.7.2c-16.4 11.88-32.2 24.34-46 36.65c-17.8 15.72-32.4 30.85-41.4 45.25c-18.6-4.2-28.18-8.1-28.09-9.1c18.39-29.69 50.29-54.89 85.49-71.06c5.1-.89 16.2-1.45 30-1.74zM57 115.7c.82.6 1.65 1.2 2.51 1.7c11.78 7.5 27.7 13.7 47.09 18.9C145.3 146.7 197.9 153 256 153c58.1 0 110.7-6.3 149.4-16.7c19.4-5.2 35.3-11.4 47.1-18.9c.9-.5 1.7-1.1 2.5-1.7c.7 12.2.4 29.2 0 36.3c0 3.2-2.9 8.3-12.2 14.2c-9.3 5.9-23.8 11.8-42.1 16.7c-36.5 9.8-87.9 16.1-144.7 16.1c-56.8 0-108.2-6.3-144.7-16.1c-18.3-4.9-32.85-10.8-42.12-16.7C52.68 156.7 57 134.4 57 115.7zm49.3 84.5c.1 0 .2.1.3.1c14.1 3.3 32 10.6 39.4 16.7c-14.1 5.2-27.1 11.7-38.3 19.6c-2.9-5.1-4.9-12.1-4.9-19.6c0-6.2 1.4-12.1 3.5-16.8zm290.6 2.3c4.5 4.5 8.4 9.4 11.5 14.5c-4.6 7.6-10.8 14.5-18.5 20.9c-12.8-8.5-27.5-15.4-43.5-20.9c23-5.8 33.8-10.7 50.5-14.5zm-84.8 23.7c23.3 5.1 44.6 12.7 61.8 22.8c-17.2 10.1-38.5 17.7-61.8 22.8c-4.3-.9-8.6-1.7-13-2.4c-39.4-6.2-81.9-5.8-119.7 2.1c-22.2-5-42.2-12.5-57.7-22.5c15.5-10 35.5-17.5 57.7-22.5c37.8 7.9 80.3 8.3 119.7 2.1c4.4-.7 8.7-1.5 13-2.4zM415.9 237c.8 3.8 1.3 7.8 1.3 12s-.5 8.2-1.3 12c-3.4-4.2-7.3-8.2-11.5-12c4.2-3.8 8.1-7.8 11.5-12zm-26 23.1c7.7 6.4 13.9 13.3 18.5 20.9c-4.6 7.6-10.8 14.5-18.5 20.9c-12.8-8.5-27.5-15.4-43.5-20.9c16-5.5 30.7-12.4 43.5-20.9zm-282.2 1.3c11.2 7.9 24.2 14.4 38.3 19.6c-14.1 5.2-27.1 11.7-38.3 19.6c-2.9-5.1-4.9-12.1-4.9-19.6c0-7.5 2-14.5 4.9-19.6zm204.4 28.8c23.3 5.1 44.6 12.7 61.8 22.8c-17.2 10.1-38.5 17.7-61.8 22.8c-4.3-.9-8.6-1.7-13-2.4c-39.4-6.2-81.9-5.8-119.7 2.1c-22.2-5-42.2-12.5-57.7-22.5c15.5-10 35.5-17.5 57.7-22.5c37.8 7.9 80.3 8.3 119.7 2.1c4.4-.7 8.7-1.5 13-2.4zM415.9 301c.8 3.8 1.3 7.8 1.3 12s-.5 8.2-1.3 12c-3.4-4.2-7.3-8.2-11.5-12c4.2-3.8 8.1-7.8 11.5-12zm-26 23.1c7.7 6.4 13.9 13.3 18.5 20.9c-4.6 7.6-10.8 14.5-18.5 20.9c-12.8-8.5-27.5-15.4-43.5-20.9c16-5.5 30.7-12.4 43.5-20.9zm-282.2 1.3c11.2 7.9 24.2 14.4 38.3 19.6c-14.1 5.2-27.1 11.7-38.3 19.6c-2.9-5.1-4.9-12.1-4.9-19.6c0-7.5 2-14.5 4.9-19.6zm204.4 28.8c23.3 5.1 44.6 12.7 61.8 22.8c-21 12.3-48.2 21.1-77.6 25.8c-62.2 9.9-133.7.5-174.6-25.8c15.5-10 35.5-17.5 57.7-22.5c37.8 7.9 80.3 8.3 119.7 2.1c4.4-.7 8.7-1.5 13-2.4zM415.9 365c.8 3.8 1.3 7.8 1.3 12s-.5 8.2-1.3 12c-3.4-4.2-7.3-8.2-11.5-12c4.2-3.8 8.1-7.8 11.5-12zm-26 23.1c7.7 6.4 13.9 13.3 18.5 20.9c-5.9 9.8-14.5 18.5-25.6 26.2c-21.8 15.4-52.7 26.2-86.5 31.6c-67.5 10.7-145.9-1.2-184.4-32.8c-5.1-4.2-9.1-14.3-9.1-25c0-7.5 2-14.5 4.9-19.6c46.7 33 123.6 41.9 191.4 31.2c34.3-5.5 66.1-16.1 90.8-32.5z"
                      />
                    </svg>
                  </>
                ) : (
                  <>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="45"
                      className="bg-white rounded-full p-1"
                      height="45"
                      viewBox="0 0 14 14"
                    >
                      <path
                        fill="#7f1d1d"
                        fill-rule="evenodd"
                        d="M7.311 1.477a.75.75 0 0 1 .092 1.057c-.335.398-.418.793-.374 1.247c.05.501.249 1.038.5 1.695l.017.045c.23.602.504 1.318.575 2.04c.077.786-.083 1.602-.718 2.358a.75.75 0 1 1-1.148-.965c.334-.398.418-.794.373-1.248c-.049-.5-.249-1.037-.5-1.694l-.017-.045c-.23-.603-.504-1.318-.575-2.04c-.077-.787.083-1.603.719-2.359a.75.75 0 0 1 1.056-.09Zm-2.809 1.98a.75.75 0 1 0-1.148-.966c-.593.705-.81 1.401-.715 2.099c.082.602.395 1.123.619 1.495l.027.045c.26.433.41.703.446.97c.026.197 0 .481-.377.93a.75.75 0 0 0 1.148.966c.593-.705.81-1.4.715-2.098c-.082-.603-.395-1.123-.619-1.495l-.027-.045c-.26-.433-.41-.703-.446-.97c-.027-.197 0-.482.377-.931Zm8.41 3.43a.75.75 0 0 0-1.026 1.093a1.923 1.923 0 0 1 .593 1.191c-.016.504-.419 1.125-1.428 1.666c-.999.535-2.43.89-4.051.89c-1.622 0-3.053-.353-4.052-.886c-1.01-.539-1.412-1.158-1.427-1.662a1.91 1.91 0 0 1 .594-1.199a.75.75 0 0 0-1.027-1.093a3.423 3.423 0 0 0-1.065 2.2a.75.75 0 0 0-.003.062c0 1.332.997 2.362 2.222 3.016c1.256.67 2.94 1.061 4.758 1.061c1.82 0 3.503-.394 4.76-1.067c1.224-.656 2.22-1.689 2.22-3.019a3.41 3.41 0 0 0-1.067-2.253Zm-2.387-3.523a.75.75 0 0 0-1.281-.78c-.429.706-.562 1.357-.5 1.978c.055.566.271 1.063.437 1.445l.016.036c.183.421.305.718.336 1.029c.027.273-.016.603-.29 1.052a.75.75 0 1 0 1.282.779c.429-.705.561-1.356.5-1.977c-.055-.566-.271-1.064-.437-1.445l-.016-.036c-.183-.422-.305-.719-.336-1.03c-.027-.273.016-.602.29-1.051Z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </>
                )}
              </div>
              <div className="px-2 bg-white/70 w-full pt-4">
                <p
                  className="text-md font-semibold  text-gray-800 "
                  style={{ lineHeight: "16px" }}
                >
                  {e.titulo}
                </p>
                <div>
                  {e ? (
                    e.descuento > 0 && (
                      <div className="flex items-center justify-around">
                        <p className="text-red-500 font-semibold text-lg line-through">
                          {formattwo(e.precio)}
                        </p>{" "}
                        <p className="text-green-700 text-xl font-bold">
                          {formattwo(e.precio - (e.precio * e.descuento) / 100)}
                        </p>
                      </div>
                    )
                  ) : (
                    // Puedes mostrar un mensaje de carga o un spinner aqu√≠
                    <p>Cargando...</p>
                  )}
                </div>
                <div className="flex w-full justify-around mb-2 items-center">
                  <button className="mt-2 bg-green-950 px-2 py-1 rounded-xl flex items-center justify-center">
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                        className="w-7"
                        fill="white"
                      >
                        <title>cart-plus</title>
                        <path d="M11 9H13V6H16V4H13V1H11V4H8V6H11M7 18C5.9 18 5 18.9 5 20S5.9 22 7 22 9 21.1 9 20 8.1 18 7 18M17 18C15.9 18 15 18.9 15 20S15.9 22 17 22 19 21.1 19 20 18.1 18 17 18M7.2 14.8V14.7L8.1 13H15.5C16.2 13 16.9 12.6 17.2 12L21.1 5L19.4 4L15.5 11H8.5L4.3 2H1V4H3L6.6 11.6L5.2 14C5.1 14.3 5 14.6 5 15C5 16.1 5.9 17 7 17H19V15H7.4C7.3 15 7.2 14.9 7.2 14.8Z" />
                      </svg>
                    </span>
                    Ver Producto
                  </button>
                  <p className=" text-xl font-bold text-green-700 mt-2">
                    {formattwo(e.precio)}
                  </p>
                </div>
              </div>
            </div>
          </Link>
        ))}
    </div>
  );
};
